\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}


\lstset{language=Java,
backgroundcolor=\color{white},
inputencoding=utf8,
escapeinside={\%*}{*)},
literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1,
breakatwhitespace=false,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{pblue},
  stringstyle=\color{pred},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%}
}
\begin{lstlisting}[caption=Gestor.java (LMSI)]
package com.Taller.WebTaller.service;


import com.Taller.WebTaller.dao.PiezaDao;
import com.Taller.WebTaller.dao.PiezaDaoTodos;
import com.Taller.WebTaller.modelos.Categoria;
import com.Taller.WebTaller.modelos.Marca;
import com.Taller.WebTaller.modelos.Pieza;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.GetMapping;

import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.List;

@Service
public class Gestor {
    private final PiezaDao piezaDao;

    @Autowired
    public Gestor(PiezaDao piezaDao) {
        this.piezaDao = piezaDao;
    }

    public List<Pieza> obtenerPiezasTodas(){
        return piezaDao.LeerPiezasTodas();
    }
    public List<Pieza> obtenerPiezasMarca(String marca){
        return piezaDao.LeerPorMarca(marca);
    }
    public List<Pieza> obtenerPiezasCategoria(String categoria){ return piezaDao.LeerPorCategoria(categoria);
    }

    public List<Categoria> listaCategorias(){return piezaDao.ListaCategorias();}

    public List<Marca> listaMarcas(){return piezaDao.ListaMarcas();}

    public Pieza obtenerPiezaPorId(int id){return piezaDao.piezaPorId(id);}
}
\end{lstlisting}
\clearpage